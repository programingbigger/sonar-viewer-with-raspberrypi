import pigpio
import time

SERVO_PIN = 18

# pigpio????
pi = pigpio.pi()

# ????????????????????
def set_angle(angle):
    assert 0 <= angle <= 180, '???0??180????????????'
    
    # ???500??2500?????????????
    pulse_width = (angle / 180) * (2500 - 500) + 500
    
    # ??????????????????
    pi.set_servo_pulsewidth(SERVO_PIN, pulse_width)

def stop_servo():
    set_angle(angle = 0)
    pi.stop()

# test
if __name__ == "__main__":
    print("start test")
    agl = 30
    print(agl)
    set_angle(angle = agl)
    time.sleep(1.0)
    stop_servo()
    print("end test")
