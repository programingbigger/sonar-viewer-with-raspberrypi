import pigpio
import time

SERVO_PIN = 18

# pigpio????
pi = pigpio.pi()

# ????????????????????
def set_angle(angle):
    assert 0 <= angle <= 180, '???0??180????????????'
    
    # ???500??2500?????????????
    pulse_width = (angle / 180) * (2500 - 500) + 500
    
    # ??????????????????
    pi.set_servo_pulsewidth(SERVO_PIN, pulse_width)

# ???
# ~ for i in (1, ):
    # ~ set_angle(0) # ????0????
    # ~ time.sleep(1)
    # ~ print("0")
    
    # ~ set_angle(90) # ????90????
    # ~ time.sleep(1)
    # ~ print("90")
    
    # ~ set_angle(180) # ????180????
    # ~ time.sleep(1)
    # ~ print("180")

n = 90 # degree

for i in range(0, n+1, 1):
    set_angle(i)
    print(i)
    time.sleep(0.1)

for i in range(n, -1, -1):
    set_angle(i)
    print(i)
    time.sleep(0.1)

pi.stop()
